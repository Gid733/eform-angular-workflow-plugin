<eform-new-subheader [forceStaticTitle]="true" [title]="'Work flow settings' | translate">
  <button
    mat-raised-button
    id="addNewSiteBtn"
    color="accent"
    matTooltip="{{ 'Add new site' | translate }}"
    (click)="showAddNewSiteModal()"
  >
    <mat-icon>person_add_alt_1</mat-icon>
    {{ 'Add site' | translate }}
  </button>
</eform-new-subheader>

<ng-template #toolbarTpl>
  <div class="d-flex flex-row justify-content-start flex-nowrap">
    <div class="d-flex flex-column mr-2 ml-2">
      <mat-form-field id="folderSelector">
        <mat-label>{{ 'Folders' | translate }}</mat-label>
        <input
          matInput
          id="folderSelectorInput"
          name="folderSelectorInput"
          [ngModel]="settingsModel.folderName"
          readonly
          (click)="foldersTreeDto.length > 0 && openFoldersModal()"
        />
      </mat-form-field>
    </div>
    <div class="d-flex flex-column mr-2 ml-2">
      <mat-form-field id="folderTasksSelector">
        <mat-label>{{ 'Folders for tasks' | translate }}</mat-label>
        <input
          matInput
          id="folderTasksSelectorInput"
          name="folderTasksSelectorInput"
          [ngModel]="settingsModel.folderTasksName"
          readonly
          (click)="foldersTreeDto.length > 0 && openTasksFoldersModal()"
        />
      </mat-form-field>
    </div>
  </div>
</ng-template>

<mtx-grid
  [data]="settingsModel?.assignedSites"
  [columns]="tableHeaders"
  [showPaginator]="false"
  [pageOnFront]="false"
  [rowStriped]="true"
  [showToolbar]="foldersTreeDto.length > 0"
  [toolbarTemplate]="toolbarTpl"
  [showColumnMenuButton]="false"
  [noResultText]="'No assigned sites found' | translate">
</mtx-grid>
